{"ast":null,"code":"import _objectSpread from\"D:/JHFshop/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useMemo}from\"react\";import{Card,CardContent,CardHeader,CardTitle,CardDescription}from\"./ui/card\";import{Tabs,TabsContent,TabsList,TabsTrigger}from\"./ui/tabs\";import{Table,TableBody,TableCell,TableHead,TableHeader,TableRow}from\"./ui/table\";import{Badge}from\"./ui/badge\";import{BarChart,Bar,LineChart,Line,PieChart,Pie,Cell,AreaChart,Area,XAxis,YAxis,CartesianGrid,Tooltip,Legend,ResponsiveContainer}from\"recharts\";import{useSeller}from\"../contexts/seller-context\";import{useTheme}from\"../contexts/theme-context\";import{TrendingUp,DollarSign,ShoppingCart,Package,Calendar,ArrowUpRight,ArrowDownRight}from\"lucide-react\";// Simple date formatting function\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const formatDate=(date,formatStr)=>{const months=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];const d=new Date(date);if(formatStr==='MMM dd'){return\"\".concat(months[d.getMonth()],\" \").concat(String(d.getDate()).padStart(2,'0'));}else if(formatStr==='MMM dd, yyyy HH:mm'){return\"\".concat(months[d.getMonth()],\" \").concat(String(d.getDate()).padStart(2,'0'),\", \").concat(d.getFullYear(),\" \").concat(String(d.getHours()).padStart(2,'0'),\":\").concat(String(d.getMinutes()).padStart(2,'0'));}return date.toISOString();};const CHART_COLORS=['hsl(var(--chart-1))','hsl(var(--chart-2))','hsl(var(--chart-3))','hsl(var(--chart-4))','hsl(var(--chart-5))'];export function SalesAnalytics(){const{sales,products}=useSeller();const{theme}=useTheme();// Calculate key metrics\nconst metrics=useMemo(()=>{const totalRevenue=sales.reduce((sum,sale)=>sum+sale.totalAmount,0);const totalOrders=sales.length;const totalItemsSold=sales.reduce((sum,sale)=>sum+sale.items.reduce((itemSum,item)=>itemSum+item.quantity,0),0);const averageOrderValue=totalOrders>0?totalRevenue/totalOrders:0;// Calculate revenue change (last 7 days vs previous 7 days)\nconst now=new Date();const last7Days=sales.filter(s=>{const saleDate=new Date(s.timestamp);const daysDiff=(now.getTime()-saleDate.getTime())/(1000*60*60*24);return daysDiff<=7;});const previous7Days=sales.filter(s=>{const saleDate=new Date(s.timestamp);const daysDiff=(now.getTime()-saleDate.getTime())/(1000*60*60*24);return daysDiff>7&&daysDiff<=14;});const last7DaysRevenue=last7Days.reduce((sum,s)=>sum+s.totalAmount,0);const previous7DaysRevenue=previous7Days.reduce((sum,s)=>sum+s.totalAmount,0);const revenueChange=previous7DaysRevenue>0?(last7DaysRevenue-previous7DaysRevenue)/previous7DaysRevenue*100:0;return{totalRevenue,totalOrders,totalItemsSold,averageOrderValue,revenueChange};},[sales]);// Sales over time (last 30 days)\nconst salesOverTime=useMemo(()=>{const last30Days=Array.from({length:30},(_,i)=>{const date=new Date();date.setDate(date.getDate()-(29-i));return{date:formatDate(date,'MMM dd'),revenue:0,orders:0};});sales.forEach(sale=>{const saleDate=new Date(sale.timestamp);const daysDiff=Math.floor((new Date().getTime()-saleDate.getTime())/(1000*60*60*24));if(daysDiff<30){const index=29-daysDiff;if(index>=0&&index<30){last30Days[index].revenue+=sale.totalAmount;last30Days[index].orders+=1;}}});return last30Days;},[sales]);// Top selling products\nconst topProducts=useMemo(()=>{const productSales={};sales.forEach(sale=>{sale.items.forEach(item=>{if(!productSales[item.productId]){productSales[item.productId]={name:item.productName,quantity:0,revenue:0,category:item.category};}productSales[item.productId].quantity+=item.quantity;productSales[item.productId].revenue+=item.price*item.quantity;});});return Object.entries(productSales).map(_ref=>{let[id,data]=_ref;return _objectSpread({id},data);}).sort((a,b)=>b.quantity-a.quantity).slice(0,10);},[sales]);// Revenue by category\nconst revenueByCategory=useMemo(()=>{const categoryRevenue={};sales.forEach(sale=>{sale.items.forEach(item=>{if(!categoryRevenue[item.category]){categoryRevenue[item.category]=0;}categoryRevenue[item.category]+=item.price*item.quantity;});});return Object.entries(categoryRevenue).map(_ref2=>{let[name,value]=_ref2;return{name,value};}).sort((a,b)=>b.value-a.value);},[sales]);// Sales by color\nconst salesByColor=useMemo(()=>{const colorSales={};sales.forEach(sale=>{sale.items.forEach(item=>{if(item.color){if(!colorSales[item.color]){colorSales[item.color]=0;}colorSales[item.color]+=item.quantity;}});});return Object.entries(colorSales).map(_ref3=>{let[name,value]=_ref3;return{name,value};}).sort((a,b)=>b.value-a.value);},[sales]);// Sales by size\nconst salesBySize=useMemo(()=>{const sizeSales={};sales.forEach(sale=>{sale.items.forEach(item=>{if(item.size){if(!sizeSales[item.size]){sizeSales[item.size]=0;}sizeSales[item.size]+=item.quantity;}});});return Object.entries(sizeSales).map(_ref4=>{let[name,value]=_ref4;return{name,value};}).sort((a,b)=>b.value-a.value);},[sales]);// Recent transactions\nconst recentTransactions=useMemo(()=>{return sales.slice(0,10);},[sales]);function renderPieLabel(props){const{cx,cy,midAngle,innerRadius,outerRadius,percent,name}=props;const RADIAN=Math.PI/180;const ir=typeof innerRadius===\"number\"?innerRadius:0;const or=typeof outerRadius===\"number\"?outerRadius:0;const cxNum=typeof cx===\"number\"?cx:0;const cyNum=typeof cy===\"number\"?cy:0;const mid=typeof midAngle===\"number\"?midAngle:0;const pct=typeof percent===\"number\"?percent:0;const radius=ir+(or-ir)*0.5;const x=cxNum+radius*Math.cos(-mid*RADIAN);const y=cyNum+radius*Math.sin(-mid*RADIAN);return/*#__PURE__*/_jsx(\"text\",{x:x,y:y,fill:theme==='light'?'hsl(var(--primary))':'hsl(var(--foreground))',textAnchor:x>cxNum?\"start\":\"end\",dominantBaseline:\"central\",style:{fontSize:\"12px\",fontWeight:500},children:\"\".concat(name,\": \").concat((pct*100).toFixed(0),\"%\")});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 md:space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2 md:pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-xs md:text-sm truncate\",children:\"Total Revenue\"}),/*#__PURE__*/_jsx(DollarSign,{className:\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\"})]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg md:text-2xl font-bold\",children:[\"$\",metrics.totalRevenue.toFixed(2)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 text-xs mt-1\",children:[metrics.revenueChange>=0?/*#__PURE__*/_jsx(ArrowUpRight,{className:\"w-3 h-3 text-green-600 shrink-0\"}):/*#__PURE__*/_jsx(ArrowDownRight,{className:\"w-3 h-3 text-red-600 shrink-0\"}),/*#__PURE__*/_jsxs(\"span\",{className:metrics.revenueChange>=0?'text-green-600':'text-red-600',children:[Math.abs(metrics.revenueChange).toFixed(1),\"%\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground hidden sm:inline\",children:\"vs last week\"})]})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2 md:pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-xs md:text-sm truncate\",children:\"Total Orders\"}),/*#__PURE__*/_jsx(ShoppingCart,{className:\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\"})]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:text-2xl font-bold\",children:metrics.totalOrders}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground mt-1\",children:\"All time orders\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2 md:pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-xs md:text-sm truncate\",children:\"Items Sold\"}),/*#__PURE__*/_jsx(Package,{className:\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\"})]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:text-2xl font-bold\",children:metrics.totalItemsSold}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground mt-1\",children:\"Total units sold\"})]})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"pb-2 md:pb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(CardTitle,{className:\"text-xs md:text-sm truncate\",children:\"Avg Order Value\"}),/*#__PURE__*/_jsx(TrendingUp,{className:\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\"})]})}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-lg md:text-2xl font-bold\",children:[\"$\",metrics.averageOrderValue.toFixed(2)]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-muted-foreground mt-1\",children:\"Per order\"})]})]})]}),/*#__PURE__*/_jsxs(Tabs,{defaultValue:\"revenue\",className:\"space-y-3 md:space-y-4\",children:[/*#__PURE__*/_jsxs(TabsList,{className:\"grid w-full grid-cols-2 md:grid-cols-4 h-auto\",children:[/*#__PURE__*/_jsx(TabsTrigger,{value:\"revenue\",className:\"text-xs md:text-sm\",children:\"Revenue Trends\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"products\",className:\"text-xs md:text-sm\",children:\"Top Products\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"categories\",className:\"text-xs md:text-sm\",children:\"By Category\"}),/*#__PURE__*/_jsx(TabsTrigger,{value:\"variants\",className:\"text-xs md:text-sm\",children:\"By Variant\"})]}),/*#__PURE__*/_jsxs(TabsContent,{value:\"revenue\",className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Revenue Over Time\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Last 30 days sales performance\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:350,children:/*#__PURE__*/_jsxs(AreaChart,{data:salesOverTime,children:[/*#__PURE__*/_jsx(\"defs\",{children:/*#__PURE__*/_jsxs(\"linearGradient\",{id:\"colorRevenue\",x1:\"0\",y1:\"0\",x2:\"0\",y2:\"1\",children:[/*#__PURE__*/_jsx(\"stop\",{offset:\"5%\",stopColor:CHART_COLORS[0],stopOpacity:0.8}),/*#__PURE__*/_jsx(\"stop\",{offset:\"95%\",stopColor:CHART_COLORS[0],stopOpacity:0})]})}),/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"hsl(var(--border))\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(YAxis,{stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toFixed(2)),contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},position:{y:0},allowEscapeViewBox:{x:false,y:true}}),/*#__PURE__*/_jsx(Area,{type:\"monotone\",dataKey:\"revenue\",stroke:CHART_COLORS[0],fillOpacity:1,fill:\"url(#colorRevenue)\"})]})})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Orders Over Time\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Number of orders per day\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:300,children:/*#__PURE__*/_jsxs(LineChart,{data:salesOverTime,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"hsl(var(--border))\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\",stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(YAxis,{stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},position:{y:0},allowEscapeViewBox:{x:false,y:true}}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"orders\",stroke:CHART_COLORS[1],strokeWidth:2,dot:{r:3,fill:CHART_COLORS[1],stroke:CHART_COLORS[1]},activeDot:{r:4,fill:CHART_COLORS[1],stroke:CHART_COLORS[1]}})]})})})]})]}),/*#__PURE__*/_jsx(TabsContent,{value:\"products\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Top Selling Products\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Products ranked by units sold\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:topProducts,layout:\"vertical\",children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"hsl(var(--border))\"}),/*#__PURE__*/_jsx(XAxis,{type:\"number\",stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(YAxis,{dataKey:\"name\",type:\"category\",width:150,stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(Tooltip,{formatter:(value,name)=>name==='revenue'?\"\".concat(value.toFixed(2)):value,contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},cursor:{fill:'hsl(var(--accent))'}}),/*#__PURE__*/_jsx(Legend,{wrapperStyle:{color:'hsl(var(--foreground))'}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"quantity\",fill:CHART_COLORS[0],name:\"Units Sold\"}),/*#__PURE__*/_jsx(Bar,{dataKey:\"revenue\",fill:CHART_COLORS[1],name:\"Revenue ($)\"})]})})})]})}),/*#__PURE__*/_jsx(TabsContent,{value:\"categories\",className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Revenue by Category\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Sales distribution across categories\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:350,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:revenueByCategory,cx:\"50%\",cy:\"50%\",labelLine:false,label:renderPieLabel// ðŸ‘ˆ cleaner + safe\n,outerRadius:100,fill:\"#8884d8\",dataKey:\"value\",children:revenueByCategory.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:CHART_COLORS[index%CHART_COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{formatter:value=>\"\".concat(value.toFixed(2)),contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},wrapperStyle:{outline:'none',zIndex:1000}})]})})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Category Performance\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Detailed breakdown\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:revenueByCategory.map((category,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full\",style:{backgroundColor:CHART_COLORS[index%CHART_COLORS.length]}}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:category.name})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-muted-foreground\",children:[\"$\",category.value.toFixed(2)]})]},category.name))})})]})]})}),/*#__PURE__*/_jsx(TabsContent,{value:\"variants\",className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Sales by Color\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Most popular product colors\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:350,children:/*#__PURE__*/_jsxs(BarChart,{data:salesByColor,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"hsl(var(--border))\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(YAxis,{stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},position:{y:0},allowEscapeViewBox:{x:false,y:true}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:CHART_COLORS[2],name:\"Units Sold\"})]})})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsx(CardTitle,{children:\"Sales by Size\"}),/*#__PURE__*/_jsx(CardDescription,{children:\"Most popular product sizes\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:350,children:/*#__PURE__*/_jsxs(BarChart,{data:salesBySize,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",stroke:\"hsl(var(--border))\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"name\",stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(YAxis,{stroke:\"hsl(var(--muted-foreground))\",style:{fontSize:'12px'},tick:{fill:'hsl(var(--muted-foreground))'}}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:'hsl(var(--card))',border:'1px solid hsl(var(--border))',borderRadius:'8px',color:'hsl(var(--foreground))'},labelStyle:{color:'hsl(var(--foreground))'},itemStyle:{color:'hsl(var(--foreground))'},position:{y:0},allowEscapeViewBox:{x:false,y:true}}),/*#__PURE__*/_jsx(Bar,{dataKey:\"value\",fill:CHART_COLORS[3],name:\"Units Sold\"})]})})})]})]})})]}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-5 h-5\"}),\"Recent Transactions\"]}),/*#__PURE__*/_jsx(CardDescription,{children:\"Latest sales activity\"})]}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg\",children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHeader,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableHead,{children:\"Order ID\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Date\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Items\"}),/*#__PURE__*/_jsx(TableHead,{children:\"Products\"}),/*#__PURE__*/_jsx(TableHead,{className:\"text-right\",children:\"Amount\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:recentTransactions.length===0?/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsx(TableCell,{colSpan:5,className:\"text-center text-muted-foreground py-8\",children:\"No sales yet\"})}):recentTransactions.map(sale=>/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{className:\"font-medium\",children:sale.orderId}),/*#__PURE__*/_jsx(TableCell,{children:formatDate(new Date(sale.timestamp),'MMM dd, yyyy HH:mm')}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(Badge,{variant:\"secondary\",children:[sale.items.reduce((sum,item)=>sum+item.quantity,0),\" items\"]})}),/*#__PURE__*/_jsx(TableCell,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[sale.items.slice(0,2).map((item,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"truncate max-w-[200px]\",children:[item.productName,\" \",item.color&&\"(\".concat(item.color,\")\")]},idx)),sale.items.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted-foreground text-xs\",children:[\"+\",sale.items.length-2,\" more\"]})]})}),/*#__PURE__*/_jsxs(TableCell,{className:\"text-right font-medium\",children:[\"$\",sale.totalAmount.toFixed(2)]})]},sale.id))})]})})})]})]});}","map":{"version":3,"names":["useMemo","Card","CardContent","CardHeader","CardTitle","CardDescription","Tabs","TabsContent","TabsList","TabsTrigger","Table","TableBody","TableCell","TableHead","TableHeader","TableRow","Badge","BarChart","Bar","LineChart","Line","PieChart","Pie","Cell","AreaChart","Area","XAxis","YAxis","CartesianGrid","Tooltip","Legend","ResponsiveContainer","useSeller","useTheme","TrendingUp","DollarSign","ShoppingCart","Package","Calendar","ArrowUpRight","ArrowDownRight","jsx","_jsx","jsxs","_jsxs","formatDate","date","formatStr","months","d","Date","concat","getMonth","String","getDate","padStart","getFullYear","getHours","getMinutes","toISOString","CHART_COLORS","SalesAnalytics","sales","products","theme","metrics","totalRevenue","reduce","sum","sale","totalAmount","totalOrders","length","totalItemsSold","items","itemSum","item","quantity","averageOrderValue","now","last7Days","filter","s","saleDate","timestamp","daysDiff","getTime","previous7Days","last7DaysRevenue","previous7DaysRevenue","revenueChange","salesOverTime","last30Days","Array","from","_","i","setDate","revenue","orders","forEach","Math","floor","index","topProducts","productSales","productId","name","productName","category","price","Object","entries","map","_ref","id","data","_objectSpread","sort","a","b","slice","revenueByCategory","categoryRevenue","_ref2","value","salesByColor","colorSales","color","_ref3","salesBySize","sizeSales","size","_ref4","recentTransactions","renderPieLabel","props","cx","cy","midAngle","innerRadius","outerRadius","percent","RADIAN","PI","ir","or","cxNum","cyNum","mid","pct","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","style","fontSize","fontWeight","children","toFixed","className","abs","defaultValue","width","height","x1","y1","x2","y2","offset","stopColor","stopOpacity","strokeDasharray","stroke","dataKey","tick","formatter","contentStyle","backgroundColor","border","borderRadius","labelStyle","itemStyle","position","allowEscapeViewBox","type","fillOpacity","strokeWidth","dot","r","activeDot","layout","cursor","wrapperStyle","labelLine","label","entry","outline","zIndex","colSpan","orderId","variant","idx"],"sources":["D:/JHFshop/src/components/sales-analytics.tsx"],"sourcesContent":["import { useMemo } from \"react\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"./ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"./ui/tabs\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"./ui/table\";\r\nimport { Badge } from \"./ui/badge\";\r\nimport type { PieLabelRenderProps } from \"recharts\";\r\nimport { \r\n  BarChart, \r\n  Bar, \r\n  LineChart, \r\n  Line, \r\n  PieChart, \r\n  Pie, \r\n  Cell, \r\n  AreaChart, \r\n  Area,\r\n  XAxis, \r\n  YAxis, \r\n  CartesianGrid, \r\n  Tooltip, \r\n  Legend, \r\n  ResponsiveContainer \r\n} from \"recharts\";\r\nimport { Sale, useSeller } from \"../contexts/seller-context\";\nimport { useTheme } from \"../contexts/theme-context\";\r\nimport { \r\n  TrendingUp, \r\n  DollarSign, \r\n  ShoppingCart, \r\n  Package, \r\n  Calendar,\r\n  ArrowUpRight,\r\n  ArrowDownRight\r\n} from \"lucide-react\";\r\n// Simple date formatting function\r\nconst formatDate = (date: Date, formatStr: string) => {\r\n  const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\r\n  const d = new Date(date);\r\n  \r\n  if (formatStr === 'MMM dd') {\r\n    return `${months[d.getMonth()]} ${String(d.getDate()).padStart(2, '0')}`;\r\n  } else if (formatStr === 'MMM dd, yyyy HH:mm') {\r\n    return `${months[d.getMonth()]} ${String(d.getDate()).padStart(2, '0')}, ${d.getFullYear()} ${String(d.getHours()).padStart(2, '0')}:${String(d.getMinutes()).padStart(2, '0')}`;\r\n  }\r\n  return date.toISOString();\r\n};\r\n\r\nconst CHART_COLORS = [\r\n  'hsl(var(--chart-1))',\r\n  'hsl(var(--chart-2))',\r\n  'hsl(var(--chart-3))',\r\n  'hsl(var(--chart-4))',\r\n  'hsl(var(--chart-5))'\r\n];\r\n\r\nexport function SalesAnalytics() {\r\n  const { sales, products } = useSeller();\n  const { theme } = useTheme();\r\n\r\n  // Calculate key metrics\r\n  const metrics = useMemo(() => {\r\n    const totalRevenue = sales.reduce((sum, sale) => sum + sale.totalAmount, 0);\r\n    const totalOrders = sales.length;\r\n    const totalItemsSold = sales.reduce((sum, sale) => \r\n      sum + sale.items.reduce((itemSum, item) => itemSum + item.quantity, 0), 0\r\n    );\r\n    const averageOrderValue = totalOrders > 0 ? totalRevenue / totalOrders : 0;\r\n\r\n    // Calculate revenue change (last 7 days vs previous 7 days)\r\n    const now = new Date();\r\n    const last7Days = sales.filter(s => {\r\n      const saleDate = new Date(s.timestamp);\r\n      const daysDiff = (now.getTime() - saleDate.getTime()) / (1000 * 60 * 60 * 24);\r\n      return daysDiff <= 7;\r\n    });\r\n    const previous7Days = sales.filter(s => {\r\n      const saleDate = new Date(s.timestamp);\r\n      const daysDiff = (now.getTime() - saleDate.getTime()) / (1000 * 60 * 60 * 24);\r\n      return daysDiff > 7 && daysDiff <= 14;\r\n    });\r\n\r\n    const last7DaysRevenue = last7Days.reduce((sum, s) => sum + s.totalAmount, 0);\r\n    const previous7DaysRevenue = previous7Days.reduce((sum, s) => sum + s.totalAmount, 0);\r\n    const revenueChange = previous7DaysRevenue > 0 \r\n      ? ((last7DaysRevenue - previous7DaysRevenue) / previous7DaysRevenue) * 100 \r\n      : 0;\r\n\r\n    return {\r\n      totalRevenue,\r\n      totalOrders,\r\n      totalItemsSold,\r\n      averageOrderValue,\r\n      revenueChange\r\n    };\r\n  }, [sales]);\r\n\r\n  // Sales over time (last 30 days)\r\n  const salesOverTime = useMemo(() => {\r\n    const last30Days = Array.from({ length: 30 }, (_, i) => {\r\n      const date = new Date();\r\n      date.setDate(date.getDate() - (29 - i));\r\n      return {\r\n        date: formatDate(date, 'MMM dd'),\r\n        revenue: 0,\r\n        orders: 0\r\n      };\r\n    });\r\n\r\n    sales.forEach(sale => {\r\n      const saleDate = new Date(sale.timestamp);\r\n      const daysDiff = Math.floor((new Date().getTime() - saleDate.getTime()) / (1000 * 60 * 60 * 24));\r\n      if (daysDiff < 30) {\r\n        const index = 29 - daysDiff;\r\n        if (index >= 0 && index < 30) {\r\n          last30Days[index].revenue += sale.totalAmount;\r\n          last30Days[index].orders += 1;\r\n        }\r\n      }\r\n    });\r\n\r\n    return last30Days;\r\n  }, [sales]);\r\n\r\n  // Top selling products\r\n  const topProducts = useMemo(() => {\r\n    const productSales: { [key: string]: { name: string; quantity: number; revenue: number; category: string } } = {};\r\n\r\n    sales.forEach(sale => {\r\n      sale.items.forEach(item => {\r\n        if (!productSales[item.productId]) {\r\n          productSales[item.productId] = {\r\n            name: item.productName,\r\n            quantity: 0,\r\n            revenue: 0,\r\n            category: item.category\r\n          };\r\n        }\r\n        productSales[item.productId].quantity += item.quantity;\r\n        productSales[item.productId].revenue += item.price * item.quantity;\r\n      });\r\n    });\r\n\r\n    return Object.entries(productSales)\r\n      .map(([id, data]) => ({ id, ...data }))\r\n      .sort((a, b) => b.quantity - a.quantity)\r\n      .slice(0, 10);\r\n  }, [sales]);\r\n\r\n  // Revenue by category\r\n  const revenueByCategory = useMemo(() => {\r\n    const categoryRevenue: { [key: string]: number } = {};\r\n\r\n    sales.forEach(sale => {\r\n      sale.items.forEach(item => {\r\n        if (!categoryRevenue[item.category]) {\r\n          categoryRevenue[item.category] = 0;\r\n        }\r\n        categoryRevenue[item.category] += item.price * item.quantity;\r\n      });\r\n    });\r\n\r\n    return Object.entries(categoryRevenue)\r\n      .map(([name, value]) => ({ name, value }))\r\n      .sort((a, b) => b.value - a.value);\r\n  }, [sales]);\r\n\r\n  // Sales by color\r\n  const salesByColor = useMemo(() => {\r\n    const colorSales: { [key: string]: number } = {};\r\n\r\n    sales.forEach(sale => {\r\n      sale.items.forEach(item => {\r\n        if (item.color) {\r\n          if (!colorSales[item.color]) {\r\n            colorSales[item.color] = 0;\r\n          }\r\n          colorSales[item.color] += item.quantity;\r\n        }\r\n      });\r\n    });\r\n\r\n    return Object.entries(colorSales)\r\n      .map(([name, value]) => ({ name, value }))\r\n      .sort((a, b) => b.value - a.value);\r\n  }, [sales]);\r\n\r\n  // Sales by size\r\n  const salesBySize = useMemo(() => {\r\n    const sizeSales: { [key: string]: number } = {};\r\n\r\n    sales.forEach(sale => {\r\n      sale.items.forEach(item => {\r\n        if (item.size) {\r\n          if (!sizeSales[item.size]) {\r\n            sizeSales[item.size] = 0;\r\n          }\r\n          sizeSales[item.size] += item.quantity;\r\n        }\r\n      });\r\n    });\r\n\r\n    return Object.entries(sizeSales)\r\n      .map(([name, value]) => ({ name, value }))\r\n      .sort((a, b) => b.value - a.value);\r\n  }, [sales]);\r\n\r\n  // Recent transactions\r\n  const recentTransactions = useMemo(() => {\r\n    return sales.slice(0, 10);\r\n  }, [sales]);\r\n\r\n    function renderPieLabel(props: PieLabelRenderProps) {\r\n        const { cx, cy, midAngle, innerRadius, outerRadius, percent, name } = props;\r\n        const RADIAN = Math.PI / 180;\r\n\r\n        const ir = typeof innerRadius === \"number\" ? innerRadius : 0;\r\n        const or = typeof outerRadius === \"number\" ? outerRadius : 0;\r\n        const cxNum = typeof cx === \"number\" ? cx : 0;\r\n        const cyNum = typeof cy === \"number\" ? cy : 0;\r\n        const mid = typeof midAngle === \"number\" ? midAngle : 0;\r\n        const pct = typeof percent === \"number\" ? percent : 0;\r\n\r\n        const radius = ir + (or - ir) * 0.5;\r\n        const x = cxNum + radius * Math.cos(-mid * RADIAN);\r\n        const y = cyNum + radius * Math.sin(-mid * RADIAN);\r\n\r\n        return (\r\n            <text\r\n                x={x}\r\n                y={y}\r\n                fill={theme === 'light' ? 'hsl(var(--primary))' : 'hsl(var(--foreground))'}\r\n                textAnchor={x > cxNum ? \"start\" : \"end\"}\r\n                dominantBaseline=\"central\"\r\n                style={{ fontSize: \"12px\", fontWeight: 500 }}\r\n            >\r\n                {`${name}: ${(pct! * 100).toFixed(0)}%`}\r\n            </text>\r\n        );\r\n    }\r\n\r\n\r\n  return (\r\n    <div className=\"space-y-4 md:space-y-6\">\r\n      {/* Key Metrics */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4\">\r\n        <Card>\r\n          <CardHeader className=\"pb-2 md:pb-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"text-xs md:text-sm truncate\">Total Revenue</CardTitle>\r\n              <DollarSign className=\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\" />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg md:text-2xl font-bold\">${metrics.totalRevenue.toFixed(2)}</div>\r\n            <div className=\"flex items-center gap-1 text-xs mt-1\">\r\n              {metrics.revenueChange >= 0 ? (\r\n                <ArrowUpRight className=\"w-3 h-3 text-green-600 shrink-0\" />\r\n              ) : (\r\n                <ArrowDownRight className=\"w-3 h-3 text-red-600 shrink-0\" />\r\n              )}\r\n              <span className={metrics.revenueChange >= 0 ? 'text-green-600' : 'text-red-600'}>\r\n                {Math.abs(metrics.revenueChange).toFixed(1)}%\r\n              </span>\r\n              <span className=\"text-muted-foreground hidden sm:inline\">vs last week</span>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2 md:pb-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"text-xs md:text-sm truncate\">Total Orders</CardTitle>\r\n              <ShoppingCart className=\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\" />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg md:text-2xl font-bold\">{metrics.totalOrders}</div>\r\n            <p className=\"text-xs text-muted-foreground mt-1\">All time orders</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2 md:pb-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"text-xs md:text-sm truncate\">Items Sold</CardTitle>\r\n              <Package className=\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\" />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg md:text-2xl font-bold\">{metrics.totalItemsSold}</div>\r\n            <p className=\"text-xs text-muted-foreground mt-1\">Total units sold</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        <Card>\r\n          <CardHeader className=\"pb-2 md:pb-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <CardTitle className=\"text-xs md:text-sm truncate\">Avg Order Value</CardTitle>\r\n              <TrendingUp className=\"w-3 h-3 md:w-4 md:h-4 text-muted-foreground shrink-0\" />\r\n            </div>\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-lg md:text-2xl font-bold\">${metrics.averageOrderValue.toFixed(2)}</div>\r\n            <p className=\"text-xs text-muted-foreground mt-1\">Per order</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Charts Tabs */}\r\n      <Tabs defaultValue=\"revenue\" className=\"space-y-3 md:space-y-4\">\r\n        <TabsList className=\"grid w-full grid-cols-2 md:grid-cols-4 h-auto\">\r\n          <TabsTrigger value=\"revenue\" className=\"text-xs md:text-sm\">Revenue Trends</TabsTrigger>\r\n          <TabsTrigger value=\"products\" className=\"text-xs md:text-sm\">Top Products</TabsTrigger>\r\n          <TabsTrigger value=\"categories\" className=\"text-xs md:text-sm\">By Category</TabsTrigger>\r\n          <TabsTrigger value=\"variants\" className=\"text-xs md:text-sm\">By Variant</TabsTrigger>\r\n        </TabsList>\r\n\r\n        {/* Revenue Over Time */}\r\n        <TabsContent value=\"revenue\" className=\"space-y-4\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Revenue Over Time</CardTitle>\r\n              <CardDescription>Last 30 days sales performance</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <ResponsiveContainer width=\"100%\" height={350}>\r\n                <AreaChart data={salesOverTime}>\r\n                  <defs>\r\n                    <linearGradient id=\"colorRevenue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                      <stop offset=\"5%\" stopColor={CHART_COLORS[0]} stopOpacity={0.8}/>\r\n                      <stop offset=\"95%\" stopColor={CHART_COLORS[0]} stopOpacity={0}/>\r\n                    </linearGradient>\r\n                  </defs>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\r\n                  <XAxis \r\n                    dataKey=\"date\" \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <YAxis \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <Tooltip \r\n                    formatter={(value: number) => `${value.toFixed(2)}`}\r\n                    contentStyle={{ \r\n                      backgroundColor: 'hsl(var(--card))', \r\n                      border: '1px solid hsl(var(--border))',\r\n                      borderRadius: '8px',\r\n                      color: 'hsl(var(--foreground))'\r\n                    }}\r\n                    labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    position={{ y: 0 }}\r\n                    allowEscapeViewBox={{ x: false, y: true }}\r\n                  />\r\n                  <Area \r\n                    type=\"monotone\" \r\n                    dataKey=\"revenue\" \r\n                    stroke={CHART_COLORS[0]} \r\n                    fillOpacity={1} \r\n                    fill=\"url(#colorRevenue)\" \r\n                  />\r\n                </AreaChart>\r\n              </ResponsiveContainer>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Orders Over Time</CardTitle>\r\n              <CardDescription>Number of orders per day</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <ResponsiveContainer width=\"100%\" height={300}>\r\n                <LineChart data={salesOverTime}>\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\r\n                  <XAxis \r\n                    dataKey=\"date\" \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <YAxis \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <Tooltip \r\n                    contentStyle={{ \r\n                      backgroundColor: 'hsl(var(--card))', \r\n                      border: '1px solid hsl(var(--border))',\r\n                      borderRadius: '8px',\r\n                      color: 'hsl(var(--foreground))'\r\n                    }}\r\n                    labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    position={{ y: 0 }}\r\n                    allowEscapeViewBox={{ x: false, y: true }}\r\n                  />\r\n                  <Line\n                    type=\"monotone\"\n                    dataKey=\"orders\"\n                    stroke={CHART_COLORS[1]}\n                    strokeWidth={2}\n                    dot={{ r: 3, fill: CHART_COLORS[1], stroke: CHART_COLORS[1] }}\n                    activeDot={{ r: 4, fill: CHART_COLORS[1], stroke: CHART_COLORS[1] }}\n                  />\r\n                </LineChart>\r\n              </ResponsiveContainer>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Top Products */}\r\n        <TabsContent value=\"products\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Top Selling Products</CardTitle>\r\n              <CardDescription>Products ranked by units sold</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <ResponsiveContainer width=\"100%\" height={400}>\r\n                <BarChart data={topProducts} layout=\"vertical\">\r\n                  <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\r\n                  <XAxis \r\n                    type=\"number\" \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <YAxis \r\n                    dataKey=\"name\" \r\n                    type=\"category\" \r\n                    width={150} \r\n                    stroke=\"hsl(var(--muted-foreground))\" \r\n                    style={{ fontSize: '12px' }}\r\n                    tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                  />\r\n                  <Tooltip \r\n                    formatter={(value: number, name: string) => \r\n                      name === 'revenue' ? `${value.toFixed(2)}` : value\r\n                    }\r\n                    contentStyle={{ \r\n                      backgroundColor: 'hsl(var(--card))', \r\n                      border: '1px solid hsl(var(--border))',\r\n                      borderRadius: '8px',\r\n                      color: 'hsl(var(--foreground))'\r\n                    }}\r\n                    labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                    cursor={{ fill: 'hsl(var(--accent))' }}\r\n                  />\r\n                  <Legend wrapperStyle={{ color: 'hsl(var(--foreground))' }} />\r\n                  <Bar dataKey=\"quantity\" fill={CHART_COLORS[0]} name=\"Units Sold\" />\r\n                  <Bar dataKey=\"revenue\" fill={CHART_COLORS[1]} name=\"Revenue ($)\" />\r\n                </BarChart>\r\n              </ResponsiveContainer>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        {/* Revenue by Category */}\r\n        <TabsContent value=\"categories\" className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Revenue by Category</CardTitle>\r\n                <CardDescription>Sales distribution across categories</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={350}>\r\n                  <PieChart>\r\n                    <Pie\r\n                      data={revenueByCategory}\r\n                      cx=\"50%\"\r\n                      cy=\"50%\"\r\n                      labelLine={false}\r\n                      label={renderPieLabel}  // ðŸ‘ˆ cleaner + safe\r\n                      outerRadius={100}\r\n                      fill=\"#8884d8\"\r\n                      dataKey=\"value\"\r\n                      >\r\n                       {revenueByCategory.map((entry, index) => (\r\n                          <Cell key={`cell-${index}`} fill={CHART_COLORS[index % CHART_COLORS.length]} />\r\n                       ))}\r\n                    </Pie>\r\n                    <Tooltip \r\n                      formatter={(value: number) => `${value.toFixed(2)}`}\r\n                      contentStyle={{ \r\n                        backgroundColor: 'hsl(var(--card))', \r\n                        border: '1px solid hsl(var(--border))',\r\n                        borderRadius: '8px',\r\n                        color: 'hsl(var(--foreground))'\r\n                      }}\r\n                      labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      wrapperStyle={{ outline: 'none', zIndex: 1000 }}\r\n                    />\r\n                  </PieChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Category Performance</CardTitle>\r\n                <CardDescription>Detailed breakdown</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <div className=\"space-y-4\">\r\n                  {revenueByCategory.map((category, index) => (\r\n                    <div key={category.name} className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div \r\n                          className=\"w-3 h-3 rounded-full\" \r\n                          style={{ backgroundColor: CHART_COLORS[index % CHART_COLORS.length] }}\r\n                        />\r\n                        <span className=\"font-medium\">{category.name}</span>\r\n                      </div>\r\n                      <span className=\"text-muted-foreground\">${category.value.toFixed(2)}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n\r\n        {/* Sales by Variant */}\r\n        <TabsContent value=\"variants\" className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Sales by Color</CardTitle>\r\n                <CardDescription>Most popular product colors</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={350}>\r\n                  <BarChart data={salesByColor}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\r\n                    <XAxis \r\n                      dataKey=\"name\" \r\n                      stroke=\"hsl(var(--muted-foreground))\" \r\n                      style={{ fontSize: '12px' }}\r\n                      tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                    />\r\n                    <YAxis \r\n                      stroke=\"hsl(var(--muted-foreground))\" \r\n                      style={{ fontSize: '12px' }}\r\n                      tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                    />\r\n                    <Tooltip \r\n                      contentStyle={{ \r\n                        backgroundColor: 'hsl(var(--card))', \r\n                        border: '1px solid hsl(var(--border))',\r\n                        borderRadius: '8px',\r\n                        color: 'hsl(var(--foreground))'\r\n                      }}\r\n                      labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      position={{ y: 0 }}\r\n                      allowEscapeViewBox={{ x: false, y: true }}\r\n                    />\r\n                    <Bar dataKey=\"value\" fill={CHART_COLORS[2]} name=\"Units Sold\" />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardHeader>\r\n                <CardTitle>Sales by Size</CardTitle>\r\n                <CardDescription>Most popular product sizes</CardDescription>\r\n              </CardHeader>\r\n              <CardContent>\r\n                <ResponsiveContainer width=\"100%\" height={350}>\r\n                  <BarChart data={salesBySize}>\r\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(var(--border))\" />\r\n                    <XAxis \r\n                      dataKey=\"name\" \r\n                      stroke=\"hsl(var(--muted-foreground))\" \r\n                      style={{ fontSize: '12px' }}\r\n                      tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                    />\r\n                    <YAxis \r\n                      stroke=\"hsl(var(--muted-foreground))\" \r\n                      style={{ fontSize: '12px' }}\r\n                      tick={{ fill: 'hsl(var(--muted-foreground))' }}\r\n                    />\r\n                    <Tooltip \r\n                      contentStyle={{ \r\n                        backgroundColor: 'hsl(var(--card))', \r\n                        border: '1px solid hsl(var(--border))',\r\n                        borderRadius: '8px',\r\n                        color: 'hsl(var(--foreground))'\r\n                      }}\r\n                      labelStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      itemStyle={{ color: 'hsl(var(--foreground))' }}\r\n                      position={{ y: 0 }}\r\n                      allowEscapeViewBox={{ x: false, y: true }}\r\n                    />\r\n                    <Bar dataKey=\"value\" fill={CHART_COLORS[3]} name=\"Units Sold\" />\r\n                  </BarChart>\r\n                </ResponsiveContainer>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Recent Transactions */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <Calendar className=\"w-5 h-5\" />\r\n            Recent Transactions\r\n          </CardTitle>\r\n          <CardDescription>Latest sales activity</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"border rounded-lg\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>Order ID</TableHead>\r\n                  <TableHead>Date</TableHead>\r\n                  <TableHead>Items</TableHead>\r\n                  <TableHead>Products</TableHead>\r\n                  <TableHead className=\"text-right\">Amount</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {recentTransactions.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={5} className=\"text-center text-muted-foreground py-8\">\r\n                      No sales yet\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  recentTransactions.map((sale) => (\r\n                    <TableRow key={sale.id}>\r\n                      <TableCell className=\"font-medium\">{sale.orderId}</TableCell>\r\n                      <TableCell>{formatDate(new Date(sale.timestamp), 'MMM dd, yyyy HH:mm')}</TableCell>\r\n                      <TableCell>\r\n                        <Badge variant=\"secondary\">\r\n                          {sale.items.reduce((sum, item) => sum + item.quantity, 0)} items\r\n                        </Badge>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <div className=\"text-sm\">\r\n                          {sale.items.slice(0, 2).map((item, idx) => (\r\n                            <div key={idx} className=\"truncate max-w-[200px]\">\r\n                              {item.productName} {item.color && `(${item.color})`}\r\n                            </div>\r\n                          ))}\r\n                          {sale.items.length > 2 && (\r\n                            <div className=\"text-muted-foreground text-xs\">\r\n                              +{sale.items.length - 2} more\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right font-medium\">\r\n                        ${sale.totalAmount.toFixed(2)}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}