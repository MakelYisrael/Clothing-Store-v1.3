{"ast":null,"code":"import{createContext,useContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const ThemeContext=/*#__PURE__*/createContext(undefined);export function ThemeProvider(_ref){let{children}=_ref;const[theme,setThemeState]=useState(()=>{// Check localStorage first\nif(typeof window!=='undefined'){const savedTheme=localStorage.getItem('jhf-theme');if(savedTheme)return savedTheme;// Check system preference\nif(window.matchMedia('(prefers-color-scheme: dark)').matches){return'dark';}}return'light';});useEffect(()=>{const root=document.documentElement;// Remove both classes first\nroot.classList.remove('light','dark');// Add the current theme class\nroot.classList.add(theme);// Save to localStorage\nlocalStorage.setItem('jhf-theme',theme);},[theme]);const toggleTheme=()=>{setThemeState(prev=>prev==='light'?'dark':'light');};const setTheme=newTheme=>{setThemeState(newTheme);};return/*#__PURE__*/_jsx(ThemeContext.Provider,{value:{theme,toggleTheme,setTheme},children:children});}export function useTheme(){const context=useContext(ThemeContext);if(context===undefined){throw new Error('useTheme must be used within a ThemeProvider');}return context;}","map":{"version":3,"names":["createContext","useContext","useEffect","useState","jsx","_jsx","ThemeContext","undefined","ThemeProvider","_ref","children","theme","setThemeState","window","savedTheme","localStorage","getItem","matchMedia","matches","root","document","documentElement","classList","remove","add","setItem","toggleTheme","prev","setTheme","newTheme","Provider","value","useTheme","context","Error"],"sources":["D:/JHFshop/src/contexts/theme-context.tsx"],"sourcesContent":["import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\r\n\r\ntype Theme = 'light' | 'dark';\r\n\r\ninterface ThemeContextType {\r\n  theme: Theme;\r\n  toggleTheme: () => void;\r\n  setTheme: (theme: Theme) => void;\r\n}\r\n\r\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\r\n\r\nexport function ThemeProvider({ children }: { children: ReactNode }) {\r\n  const [theme, setThemeState] = useState<Theme>(() => {\r\n    // Check localStorage first\r\n    if (typeof window !== 'undefined') {\r\n      const savedTheme = localStorage.getItem('jhf-theme') as Theme;\r\n      if (savedTheme) return savedTheme;\r\n      \r\n      // Check system preference\r\n      if (window.matchMedia('(prefers-color-scheme: dark)').matches) {\r\n        return 'dark';\r\n      }\r\n    }\r\n    return 'light';\r\n  });\r\n\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    \r\n    // Remove both classes first\r\n    root.classList.remove('light', 'dark');\r\n    \r\n    // Add the current theme class\r\n    root.classList.add(theme);\r\n    \r\n    // Save to localStorage\r\n    localStorage.setItem('jhf-theme', theme);\r\n  }, [theme]);\r\n\r\n  const toggleTheme = () => {\r\n    setThemeState(prev => prev === 'light' ? 'dark' : 'light');\r\n  };\r\n\r\n  const setTheme = (newTheme: Theme) => {\r\n    setThemeState(newTheme);\r\n  };\r\n\r\n  return (\r\n    <ThemeContext.Provider value={{ theme, toggleTheme, setTheme }}>\r\n      {children}\r\n    </ThemeContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useTheme() {\r\n  const context = useContext(ThemeContext);\r\n  if (context === undefined) {\r\n    throw new Error('useTheme must be used within a ThemeProvider');\r\n  }\r\n  return context;\r\n}\r\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAmB,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAUlF,KAAM,CAAAC,YAAY,cAAGN,aAAa,CAA+BO,SAAS,CAAC,CAE3E,MAAO,SAAS,CAAAC,aAAaA,CAAAC,IAAA,CAAwC,IAAvC,CAAEC,QAAkC,CAAC,CAAAD,IAAA,CACjE,KAAM,CAACE,KAAK,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAQ,IAAM,CACnD;AACA,GAAI,MAAO,CAAAU,MAAM,GAAK,WAAW,CAAE,CACjC,KAAM,CAAAC,UAAU,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAU,CAC7D,GAAIF,UAAU,CAAE,MAAO,CAAAA,UAAU,CAEjC;AACA,GAAID,MAAM,CAACI,UAAU,CAAC,8BAA8B,CAAC,CAACC,OAAO,CAAE,CAC7D,MAAO,MAAM,CACf,CACF,CACA,MAAO,OAAO,CAChB,CAAC,CAAC,CAEFhB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAiB,IAAI,CAAGC,QAAQ,CAACC,eAAe,CAErC;AACAF,IAAI,CAACG,SAAS,CAACC,MAAM,CAAC,OAAO,CAAE,MAAM,CAAC,CAEtC;AACAJ,IAAI,CAACG,SAAS,CAACE,GAAG,CAACb,KAAK,CAAC,CAEzB;AACAI,YAAY,CAACU,OAAO,CAAC,WAAW,CAAEd,KAAK,CAAC,CAC1C,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAe,WAAW,CAAGA,CAAA,GAAM,CACxBd,aAAa,CAACe,IAAI,EAAIA,IAAI,GAAK,OAAO,CAAG,MAAM,CAAG,OAAO,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAIC,QAAe,EAAK,CACpCjB,aAAa,CAACiB,QAAQ,CAAC,CACzB,CAAC,CAED,mBACExB,IAAA,CAACC,YAAY,CAACwB,QAAQ,EAACC,KAAK,CAAE,CAAEpB,KAAK,CAAEe,WAAW,CAAEE,QAAS,CAAE,CAAAlB,QAAA,CAC5DA,QAAQ,CACY,CAAC,CAE5B,CAEA,MAAO,SAAS,CAAAsB,QAAQA,CAAA,CAAG,CACzB,KAAM,CAAAC,OAAO,CAAGhC,UAAU,CAACK,YAAY,CAAC,CACxC,GAAI2B,OAAO,GAAK1B,SAAS,CAAE,CACzB,KAAM,IAAI,CAAA2B,KAAK,CAAC,8CAA8C,CAAC,CACjE,CACA,MAAO,CAAAD,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}