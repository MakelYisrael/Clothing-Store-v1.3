{"ast":null,"code":"import{useState,useEffect}from'react';import{Dialog,DialogContent,DialogTitle,DialogDescription}from'./ui/dialog';import{VisuallyHidden}from'./ui/visually-hidden';import{Button}from'./ui/button';import{Badge}from'./ui/badge';import{Separator}from'./ui/separator';import{ShoppingCart,Heart,Star,Minus,Plus,Maximize2,ChevronLeft,ChevronRight}from'lucide-react';import{ProductReviews}from'./product-reviews';import{ImageWithFallback}from'./figma/ImageWithFallback';import{ImageLightbox}from'./image-lightbox';import{useSeller}from'../contexts/seller-context';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export function ProductDetailModal(_ref){let{product,isOpen,onClose,onAddToCart,onToggleWishlist,isInWishlist,onAddReview}=_ref;const[quantity,setQuantity]=useState(1);const[currentImageIndex,setCurrentImageIndex]=useState(0);const[isLightboxOpen,setIsLightboxOpen]=useState(false);const[selectedColor,setSelectedColor]=useState(null);const[selectedSize,setSelectedSize]=useState(null);const{products:sellerProducts}=useSeller();// Get available colors for this product (before early return)\nconst sellerProduct=product?sellerProducts.find(p=>p.id===product.id):null;const availableColors=(sellerProduct===null||sellerProduct===void 0?void 0:sellerProduct.availableColors)||[];const hasColors=availableColors.length>0;// Get available sizes based on selected color\nconst getAvailableSizes=()=>{if(!sellerProduct||!selectedColor)return[];// Get unique sizes for the selected color that have stock\nconst sizesForColor=sellerProduct.variants.filter(v=>v.color===selectedColor&&v.stock>0).map(v=>v.size);// Remove duplicates and return\nreturn Array.from(new Set(sizesForColor));};const availableSizes=getAvailableSizes();const hasSizes=availableSizes.length>0;// Set default color when product changes (must be before early return)\nuseEffect(()=>{if(product&&availableColors.length>0&&!selectedColor){setSelectedColor(availableColors[0]);}},[product===null||product===void 0?void 0:product.id,availableColors.length,selectedColor]);// Set default size when color changes\nuseEffect(()=>{if(selectedColor&&availableSizes.length>0){setSelectedSize(availableSizes[0]);}else{setSelectedSize(null);}},[selectedColor,availableSizes.length]);// Reset image index when color changes\nuseEffect(()=>{setCurrentImageIndex(0);},[selectedColor]);if(!product)return null;// Get images for the selected color variant, or fall back to default images\nconst getImagesForColor=color=>{if(!color||!sellerProduct){return product.images&&product.images.length>0?product.images:[product.image];}// Find a variant with this color that has images\nconst variantWithImages=sellerProduct.variants.find(v=>v.color===color&&v.images&&v.images.length>0);if(variantWithImages!==null&&variantWithImages!==void 0&&variantWithImages.images){return variantWithImages.images;}// Fall back to default product images\nreturn product.images&&product.images.length>0?product.images:[product.image];};const images=getImagesForColor(selectedColor);const discountPercentage=product.originalPrice?Math.round((product.originalPrice-product.price)/product.originalPrice*100):0;const handleQuantityChange=delta=>{setQuantity(prev=>Math.max(1,Math.min(99,prev+delta)));};const handleAddToCart=()=>{for(let i=0;i<quantity;i++){onAddToCart(product,selectedColor||undefined,selectedSize||undefined);}};const handlePreviousImage=()=>{setCurrentImageIndex(prev=>prev>0?prev-1:images.length-1);};const handleNextImage=()=>{setCurrentImageIndex(prev=>prev<images.length-1?prev+1:0);};return/*#__PURE__*/_jsx(Dialog,{open:isOpen,onOpenChange:onClose,children:/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-4xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(VisuallyHidden,{asChild:true,children:/*#__PURE__*/_jsx(DialogTitle,{children:product.name})}),/*#__PURE__*/_jsx(VisuallyHidden,{asChild:true,children:/*#__PURE__*/_jsxs(DialogDescription,{children:[\"View details, reviews, and add \",product.name,\" to your cart\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative aspect-square rounded-lg overflow-hidden group\",children:[/*#__PURE__*/_jsx(ImageWithFallback,{src:images[currentImageIndex],alt:\"\".concat(product.name).concat(selectedColor?\" - \".concat(selectedColor):'',\" - View \").concat(currentImageIndex+1),className:\"w-full h-full object-cover cursor-pointer transition-opacity duration-300\",onClick:()=>setIsLightboxOpen(true)}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"icon\",className:\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\",onClick:()=>setIsLightboxOpen(true),children:/*#__PURE__*/_jsx(Maximize2,{className:\"w-4 h-4\"})}),images.length>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"icon\",className:\"absolute left-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\",onClick:handlePreviousImage,children:/*#__PURE__*/_jsx(ChevronLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(Button,{variant:\"secondary\",size:\"icon\",className:\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\",onClick:handleNextImage,children:/*#__PURE__*/_jsx(ChevronRight,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute top-4 left-4 flex flex-col gap-2\",children:[product.isNew&&/*#__PURE__*/_jsx(Badge,{variant:\"destructive\",className:\"text-xs\",children:\"New\"}),product.isOnSale&&discountPercentage>0&&/*#__PURE__*/_jsxs(Badge,{variant:\"secondary\",className:\"text-xs\",children:[\"-\",discountPercentage,\"%\"]})]})]}),images.length>1&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto\",children:images.map((img,idx)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentImageIndex(idx),className:\"relative flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all \".concat(idx===currentImageIndex?'border-primary':'border-transparent opacity-60 hover:opacity-100'),children:/*#__PURE__*/_jsx(ImageWithFallback,{src:img,alt:\"\".concat(product.name).concat(selectedColor?\" - \".concat(selectedColor):'',\" - Thumbnail \").concat(idx+1),className:\"w-full h-full object-cover\"})},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground mb-2\",children:product.category}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-4\",children:product.name}),product.averageRating&&product.reviews&&product.reviews.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(Star,{className:\"h-4 w-4 \".concat(star<=Math.round(product.averageRating)?'fill-yellow-400 text-yellow-400':'text-gray-300')},star))}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[product.averageRating.toFixed(1),\" (\",product.reviews.length,\" reviews)\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-2xl font-bold\",children:[\"$\",product.price.toFixed(2)]}),product.originalPrice&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-lg text-muted-foreground line-through\",children:[\"$\",product.originalPrice.toFixed(2)]})]}),product.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-muted-foreground mb-6\",children:product.description})]}),hasColors&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm font-medium mb-3 block\",children:[\"Color: \",selectedColor&&/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground font-normal\",children:selectedColor})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 flex-wrap\",children:availableColors.map(color=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedColor(color),className:\"px-4 py-2 rounded-md text-sm transition-all cursor-button hover-scale border-2 \".concat(selectedColor===color?'bg-primary text-primary-foreground border-primary':'bg-secondary text-secondary-foreground border-transparent hover:border-primary/30'),children:color},color))})]}),hasSizes&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm font-medium mb-3 block\",children:[\"Size: \",selectedSize&&/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground font-normal\",children:selectedSize})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 flex-wrap\",children:availableSizes.map(size=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedSize(size),className:\"px-4 py-2 rounded-md text-sm transition-all cursor-button hover-scale border-2 min-w-[60px] \".concat(selectedSize===size?'bg-primary text-primary-foreground border-primary':'bg-secondary text-secondary-foreground border-transparent hover:border-primary/30'),children:size},size))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium mb-2 block\",children:\"Quantity\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center border rounded-md\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:()=>handleQuantityChange(-1),disabled:quantity<=1,children:/*#__PURE__*/_jsx(Minus,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"px-4 py-2 min-w-[3rem] text-center\",children:quantity}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:()=>handleQuantityChange(1),disabled:quantity>=99,children:/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted-foreground\",children:[\"Total: $\",(product.price*quantity).toFixed(2)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(Button,{onClick:handleAddToCart,className:\"flex-1\",size:\"lg\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"h-4 w-4 mr-2\"}),\"Add \",quantity>1?\"\".concat(quantity,\" \"):'',\"to Cart\"]}),/*#__PURE__*/_jsx(Button,{variant:\"outline\",size:\"lg\",onClick:()=>onToggleWishlist(product.id),children:/*#__PURE__*/_jsx(Heart,{className:\"h-4 w-4 \".concat(isInWishlist?'fill-red-500 text-red-500':'')})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground\",children:\"Free shipping\"}),/*#__PURE__*/_jsx(\"span\",{children:\"On orders over $75\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground\",children:\"Returns\"}),/*#__PURE__*/_jsx(\"span\",{children:\"30-day free returns\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-muted-foreground\",children:\"Warranty\"}),/*#__PURE__*/_jsx(\"span\",{children:\"1-year warranty\"})]})]})]})]}),/*#__PURE__*/_jsx(Separator,{className:\"my-8\"}),/*#__PURE__*/_jsx(ProductReviews,{productId:product.id,reviews:product.reviews||[],onAddReview:review=>onAddReview(review)}),/*#__PURE__*/_jsx(ImageLightbox,{isOpen:isLightboxOpen,onClose:()=>setIsLightboxOpen(false),images:images,currentIndex:currentImageIndex,onNavigate:setCurrentImageIndex,productName:product.name})]})});}","map":{"version":3,"names":["useState","useEffect","Dialog","DialogContent","DialogTitle","DialogDescription","VisuallyHidden","Button","Badge","Separator","ShoppingCart","Heart","Star","Minus","Plus","Maximize2","ChevronLeft","ChevronRight","ProductReviews","ImageWithFallback","ImageLightbox","useSeller","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductDetailModal","_ref","product","isOpen","onClose","onAddToCart","onToggleWishlist","isInWishlist","onAddReview","quantity","setQuantity","currentImageIndex","setCurrentImageIndex","isLightboxOpen","setIsLightboxOpen","selectedColor","setSelectedColor","selectedSize","setSelectedSize","products","sellerProducts","sellerProduct","find","p","id","availableColors","hasColors","length","getAvailableSizes","sizesForColor","variants","filter","v","color","stock","map","size","Array","from","Set","availableSizes","hasSizes","getImagesForColor","images","image","variantWithImages","discountPercentage","originalPrice","Math","round","price","handleQuantityChange","delta","prev","max","min","handleAddToCart","i","undefined","handlePreviousImage","handleNextImage","open","onOpenChange","children","className","asChild","name","src","alt","concat","onClick","variant","isNew","isOnSale","img","idx","category","averageRating","reviews","star","toFixed","description","disabled","productId","review","currentIndex","onNavigate","productName"],"sources":["D:/JHFshop/src/components/product-detail-modal.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from './ui/dialog';\r\nimport { VisuallyHidden } from './ui/visually-hidden';\r\nimport { Button } from './ui/button';\r\nimport { Badge } from './ui/badge';\r\nimport { Separator } from './ui/separator';\r\nimport { ShoppingCart, Heart, Star, Minus, Plus, Maximize2, ChevronLeft, ChevronRight } from 'lucide-react';\r\nimport { Product } from './product-card';\r\nimport { ProductReviews, Review } from './product-reviews';\r\nimport { ImageWithFallback } from './figma/ImageWithFallback';\r\nimport { ImageLightbox } from './image-lightbox';\r\nimport { useSeller } from '../contexts/seller-context';\r\n\r\ninterface ProductDetailModalProps {\r\n  product: Product | null;\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onAddToCart: (product: Product, color?: string, size?: string) => void;\r\n  onToggleWishlist: (productId: string) => void;\r\n  isInWishlist: boolean;\r\n  onAddReview: (review: Omit<Review, 'id' | 'date' | 'helpful'>) => void;\r\n}\r\n\r\nexport function ProductDetailModal({\r\n  product,\r\n  isOpen,\r\n  onClose,\r\n  onAddToCart,\r\n  onToggleWishlist,\r\n  isInWishlist,\r\n  onAddReview\r\n}: ProductDetailModalProps) {\r\n  const [quantity, setQuantity] = useState(1);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  const [isLightboxOpen, setIsLightboxOpen] = useState(false);\r\n  const [selectedColor, setSelectedColor] = useState<string | null>(null);\r\n  const [selectedSize, setSelectedSize] = useState<string | null>(null);\r\n  const { products: sellerProducts } = useSeller();\r\n\r\n  // Get available colors for this product (before early return)\r\n  const sellerProduct = product ? sellerProducts.find(p => p.id === product.id) : null;\r\n  const availableColors = sellerProduct?.availableColors || [];\r\n  const hasColors = availableColors.length > 0;\r\n  \r\n  // Get available sizes based on selected color\r\n  const getAvailableSizes = () => {\r\n    if (!sellerProduct || !selectedColor) return [];\r\n    \r\n    // Get unique sizes for the selected color that have stock\r\n    const sizesForColor = sellerProduct.variants\r\n      .filter(v => v.color === selectedColor && v.stock > 0)\r\n      .map(v => v.size);\r\n    \r\n    // Remove duplicates and return\r\n    return Array.from(new Set(sizesForColor));\r\n  };\r\n  \r\n  const availableSizes = getAvailableSizes();\r\n  const hasSizes = availableSizes.length > 0;\r\n\r\n  // Set default color when product changes (must be before early return)\r\n  useEffect(() => {\r\n    if (product && availableColors.length > 0 && !selectedColor) {\r\n      setSelectedColor(availableColors[0]);\r\n    }\r\n  }, [product?.id, availableColors.length, selectedColor]);\r\n  \r\n  // Set default size when color changes\r\n  useEffect(() => {\r\n    if (selectedColor && availableSizes.length > 0) {\r\n      setSelectedSize(availableSizes[0]);\r\n    } else {\r\n      setSelectedSize(null);\r\n    }\r\n  }, [selectedColor, availableSizes.length]);\r\n\r\n  // Reset image index when color changes\r\n  useEffect(() => {\r\n    setCurrentImageIndex(0);\r\n  }, [selectedColor]);\r\n\r\n  if (!product) return null;\r\n\r\n  // Get images for the selected color variant, or fall back to default images\r\n  const getImagesForColor = (color: string | null) => {\r\n    if (!color || !sellerProduct) {\r\n      return product.images && product.images.length > 0 ? product.images : [product.image];\r\n    }\r\n    \r\n    // Find a variant with this color that has images\r\n    const variantWithImages = sellerProduct.variants.find(v => \r\n      v.color === color && v.images && v.images.length > 0\r\n    );\r\n    \r\n    if (variantWithImages?.images) {\r\n      return variantWithImages.images;\r\n    }\r\n    \r\n    // Fall back to default product images\r\n    return product.images && product.images.length > 0 ? product.images : [product.image];\r\n  };\r\n\r\n  const images = getImagesForColor(selectedColor);\r\n  const discountPercentage = product.originalPrice \r\n    ? Math.round(((product.originalPrice - product.price) / product.originalPrice) * 100)\r\n    : 0;\r\n\r\n  const handleQuantityChange = (delta: number) => {\r\n    setQuantity(prev => Math.max(1, Math.min(99, prev + delta)));\r\n  };\r\n\r\n  const handleAddToCart = () => {\r\n    for (let i = 0; i < quantity; i++) {\r\n      onAddToCart(product, selectedColor || undefined, selectedSize || undefined);\r\n    }\r\n  };\r\n\r\n  const handlePreviousImage = () => {\r\n    setCurrentImageIndex(prev => prev > 0 ? prev - 1 : images.length - 1);\r\n  };\r\n\r\n  const handleNextImage = () => {\r\n    setCurrentImageIndex(prev => prev < images.length - 1 ? prev + 1 : 0);\r\n  };\r\n\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n        <VisuallyHidden asChild>\r\n          <DialogTitle>{product.name}</DialogTitle>\r\n        </VisuallyHidden>\r\n        <VisuallyHidden asChild>\r\n          <DialogDescription>\r\n            View details, reviews, and add {product.name} to your cart\r\n          </DialogDescription>\r\n        </VisuallyHidden>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n          {/* Product Image Carousel */}\r\n          <div className=\"space-y-4\">\r\n            <div className=\"relative aspect-square rounded-lg overflow-hidden group\">\r\n              <ImageWithFallback\r\n                src={images[currentImageIndex]}\r\n                alt={`${product.name}${selectedColor ? ` - ${selectedColor}` : ''} - View ${currentImageIndex + 1}`}\r\n                className=\"w-full h-full object-cover cursor-pointer transition-opacity duration-300\"\r\n                onClick={() => setIsLightboxOpen(true)}\r\n              />\r\n              \r\n              {/* Zoom Button */}\r\n              <Button\r\n                variant=\"secondary\"\r\n                size=\"icon\"\r\n                className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                onClick={() => setIsLightboxOpen(true)}\r\n              >\r\n                <Maximize2 className=\"w-4 h-4\" />\r\n              </Button>\r\n\r\n              {/* Navigation Arrows (only show if multiple images) */}\r\n              {images.length > 1 && (\r\n                <>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"icon\"\r\n                    className=\"absolute left-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                    onClick={handlePreviousImage}\r\n                  >\r\n                    <ChevronLeft className=\"w-5 h-5\" />\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"secondary\"\r\n                    size=\"icon\"\r\n                    className=\"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                    onClick={handleNextImage}\r\n                  >\r\n                    <ChevronRight className=\"w-5 h-5\" />\r\n                  </Button>\r\n                </>\r\n              )}\r\n              \r\n              {/* Badges */}\r\n              <div className=\"absolute top-4 left-4 flex flex-col gap-2\">\r\n                {product.isNew && (\r\n                  <Badge variant=\"destructive\" className=\"text-xs\">New</Badge>\r\n                )}\r\n                {product.isOnSale && discountPercentage > 0 && (\r\n                  <Badge variant=\"secondary\" className=\"text-xs\">-{discountPercentage}%</Badge>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Thumbnail Navigation */}\r\n            {images.length > 1 && (\r\n              <div className=\"flex gap-2 overflow-x-auto\">\r\n                {images.map((img, idx) => (\r\n                  <button\r\n                    key={idx}\r\n                    onClick={() => setCurrentImageIndex(idx)}\r\n                    className={`relative flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all ${\r\n                      idx === currentImageIndex ? 'border-primary' : 'border-transparent opacity-60 hover:opacity-100'\r\n                    }`}\r\n                  >\r\n                    <ImageWithFallback\r\n                      src={img}\r\n                      alt={`${product.name}${selectedColor ? ` - ${selectedColor}` : ''} - Thumbnail ${idx + 1}`}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Product Details */}\r\n          <div className=\"space-y-6\">\r\n            <div>\r\n              <p className=\"text-sm text-muted-foreground mb-2\">{product.category}</p>\r\n              <h1 className=\"text-2xl font-bold mb-4\">{product.name}</h1>\r\n              \r\n              {/* Rating */}\r\n              {product.averageRating && product.reviews && product.reviews.length > 0 && (\r\n                <div className=\"flex items-center gap-2 mb-4\">\r\n                  <div className=\"flex items-center\">\r\n                    {[1, 2, 3, 4, 5].map((star) => (\r\n                      <Star\r\n                        key={star}\r\n                        className={`h-4 w-4 ${\r\n                          star <= Math.round(product.averageRating!)\r\n                            ? 'fill-yellow-400 text-yellow-400'\r\n                            : 'text-gray-300'\r\n                        }`}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                  <span className=\"text-sm text-muted-foreground\">\r\n                    {product.averageRating.toFixed(1)} ({product.reviews.length} reviews)\r\n                  </span>\r\n                </div>\r\n              )}\r\n\r\n              {/* Price */}\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <span className=\"text-2xl font-bold\">${product.price.toFixed(2)}</span>\r\n                {product.originalPrice && (\r\n                  <span className=\"text-lg text-muted-foreground line-through\">\r\n                    ${product.originalPrice.toFixed(2)}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              {/* Description */}\r\n              {product.description && (\r\n                <p className=\"text-muted-foreground mb-6\">\r\n                  {product.description}\r\n                </p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Color Selector */}\r\n            {hasColors && (\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-3 block\">\r\n                  Color: {selectedColor && <span className=\"text-muted-foreground font-normal\">{selectedColor}</span>}\r\n                </label>\r\n                <div className=\"flex gap-2 flex-wrap\">\r\n                  {availableColors.map((color) => (\r\n                    <button\r\n                      key={color}\r\n                      onClick={() => setSelectedColor(color)}\r\n                      className={`px-4 py-2 rounded-md text-sm transition-all cursor-button hover-scale border-2 ${\r\n                        selectedColor === color\r\n                          ? 'bg-primary text-primary-foreground border-primary'\r\n                          : 'bg-secondary text-secondary-foreground border-transparent hover:border-primary/30'\r\n                      }`}\r\n                    >\r\n                      {color}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Size Selector */}\r\n            {hasSizes && (\r\n              <div>\r\n                <label className=\"text-sm font-medium mb-3 block\">\r\n                  Size: {selectedSize && <span className=\"text-muted-foreground font-normal\">{selectedSize}</span>}\r\n                </label>\r\n                <div className=\"flex gap-2 flex-wrap\">\r\n                  {availableSizes.map((size) => (\r\n                    <button\r\n                      key={size}\r\n                      onClick={() => setSelectedSize(size)}\r\n                      className={`px-4 py-2 rounded-md text-sm transition-all cursor-button hover-scale border-2 min-w-[60px] ${\r\n                        selectedSize === size\r\n                          ? 'bg-primary text-primary-foreground border-primary'\r\n                          : 'bg-secondary text-secondary-foreground border-transparent hover:border-primary/30'\r\n                      }`}\r\n                    >\r\n                      {size}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Quantity Selector */}\r\n            <div>\r\n              <label className=\"text-sm font-medium mb-2 block\">Quantity</label>\r\n              <div className=\"flex items-center gap-3\">\r\n                <div className=\"flex items-center border rounded-md\">\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    onClick={() => handleQuantityChange(-1)}\r\n                    disabled={quantity <= 1}\r\n                  >\r\n                    <Minus className=\"h-4 w-4\" />\r\n                  </Button>\r\n                  <span className=\"px-4 py-2 min-w-[3rem] text-center\">{quantity}</span>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    onClick={() => handleQuantityChange(1)}\r\n                    disabled={quantity >= 99}\r\n                  >\r\n                    <Plus className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n                <span className=\"text-sm text-muted-foreground\">\r\n                  Total: ${(product.price * quantity).toFixed(2)}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex gap-3\">\r\n              <Button \r\n                onClick={handleAddToCart}\r\n                className=\"flex-1\"\r\n                size=\"lg\"\r\n              >\r\n                <ShoppingCart className=\"h-4 w-4 mr-2\" />\r\n                Add {quantity > 1 ? `${quantity} ` : ''}to Cart\r\n              </Button>\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"lg\"\r\n                onClick={() => onToggleWishlist(product.id)}\r\n              >\r\n                <Heart \r\n                  className={`h-4 w-4 ${isInWishlist ? 'fill-red-500 text-red-500' : ''}`} \r\n                />\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Product Features */}\r\n            <div className=\"space-y-2 text-sm\">\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Free shipping</span>\r\n                <span>On orders over $75</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Returns</span>\r\n                <span>30-day free returns</span>\r\n              </div>\r\n              <div className=\"flex justify-between\">\r\n                <span className=\"text-muted-foreground\">Warranty</span>\r\n                <span>1-year warranty</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <Separator className=\"my-8\" />\r\n\r\n        {/* Reviews Section */}\r\n        <ProductReviews\r\n          productId={product.id}\r\n          reviews={product.reviews || []}\r\n          onAddReview={(review) => onAddReview(review)}\r\n        />\r\n\r\n        {/* Image Lightbox */}\r\n        <ImageLightbox\r\n          isOpen={isLightboxOpen}\r\n          onClose={() => setIsLightboxOpen(false)}\r\n          images={images}\r\n          currentIndex={currentImageIndex}\r\n          onNavigate={setCurrentImageIndex}\r\n          productName={product.name}\r\n        />\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}